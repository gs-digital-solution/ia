{% block content %}
<style>
.quick-nav {
    width: 100%;
    max-width: 540px;
    margin: 0 auto 1.1em auto;
    display: flex;
    justify-content: center;
    gap: 1em;
    flex-wrap: wrap;
}
.quick-btn {
    background: #00a484;
    color: #fff;
    font-size: 1.08em;
    font-weight: 600;
    border: none;
    border-radius: 25px;
    padding: 0.44em 1.2em 0.46em 1.2em;
    margin:0;
    box-shadow: 0 1px 6px #00806044;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: background .18s, color .18s, box-shadow .2s;
}
.quick-btn:hover, .quick-btn:focus { background: #008060; color: #efefef;}
body { background: #f9fcf7; }
.form-section { background: #fff; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); padding: 2rem 1.5rem; max-width: 420px; margin: 3rem auto;}
.form-header { color: #008060; font-weight: 700; font-size: 1.3em; margin-bottom:1.2rem; text-align:center;}
label { color:#008060; font-weight:500; margin-top:1rem; display:block; margin-bottom:0.5rem;}
input[type="password"] { width: 100%; border: 1.5px solid #008060; border-radius: 5px; padding: 0.6em; margin-bottom: 1.2em; background: #f6fefb; font-size: 1em;}
button.submit-btn { width: 100%; background: #00a484; color: #fff; font-weight: 600; font-size: 1.07em; border: none; border-radius: 5px; padding: 0.75em 0.5em; margin-top: 1.2em; cursor: pointer;}
button.submit-btn:hover { background: #008060; }
@media (max-width: 700px) {
    .quick-nav { max-width:98vw; gap:0.32em;}
    .quick-btn { width: 95vw; max-width:99vw; text-align:center; margin: 0.09em auto;}
    .form-section { max-width: 99vw; padding: 1.1rem 0.47rem;}
    .form-header { font-size: 1.14em;}
}
.msg-bloc { margin-bottom: 1.07em; }
</style>

<!-- NAVBAR -->
<div class="quick-nav">
    <a href="{% url 'correction:profil' %}" class="quick-btn">Profil</a>
    <a href="{% url 'correction:soumettre' %}" class="quick-btn">Soumettre un exercice</a>
    <a href="{% url 'correction:historique' %}" class="quick-btn">Historique</a>
    <a href="{% url 'correction:logout' %}" class="quick-btn">DÃ©connexion</a>
</div>

<div class="form-section">
    <div class="form-header">ðŸ”‘ Modifier mon mot de passe</div>
    {% if messages %}
      <div class="msg-bloc">
        {% for m in messages %}
          <div style="background: #d2ffe2; color: #007931; border-radius:8px; padding:0.72em 1.12em; font-weight:600; text-align:center;">{{ m }}</div>
        {% endfor %}
      </div>
    {% endif %}
    <form method="post" autocomplete="off">
        {% csrf_token %}
        {% for field in form %}
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
                <div style="background:#ffe1e1; color:#d10c20; border-radius:6px; padding:0.4em 0.8em; font-size:0.97em; margin-bottom:0.3em;">
                    {{ field.errors|striptags }}
                </div>
            {% endif %}
        {% endfor %}
        <button type="submit" class="submit-btn">Valider</button>
    </form>
    <div style="margin-top:1em; text-align:center;">
        <a href="{% url 'correction:profil' %}" class="quick-btn" style="font-size:0.97em; padding:0.51em 2.1em; background:#00afe0;">Retour au profil</a>
    </div>
</div>
{% endblock %}